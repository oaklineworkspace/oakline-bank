<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Oakline Bank - Modern Banking</title>

<!-- Bootstrap & Font Awesome -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

<!-- Custom Styles -->
<style>
/* General Reset */
body, html { margin:0; padding:0; font-family: 'Segoe UI', sans-serif; background:#f4f6f8; overflow-x:hidden; }

/* Dark Mode */
.dark-mode { background:#121212; color:#eee; }
.dark-mode .card, .dark-mode .balance-card { background:#1e1e1e; color:#fff; }

/* Header */
.header-container { max-width:1200px; margin:1rem auto; display:flex; align-items:center; justify-content:space-between; }
.logo-placeholder { width:70px; height:70px; background:#004080; border-radius:12px; }
.bank-name { font-weight:800; font-size:2.5rem; color:#004080; }

/* Marquee */
.marquee-banner { background:#004080; color:#fff; font-size:0.95rem; font-weight:500; padding:6px 0; text-align:center; overflow:hidden; white-space:nowrap; }
.marquee-text { display:inline-block; padding-left:100%; animation: marquee 15s linear infinite; }
@keyframes marquee { 0% { transform:translateX(0%);} 100% { transform:translateX(-100%);} }

/* Top Controls */
.top-controls-left, .top-controls-right { position:fixed; top:10px; display:flex; gap:0.5rem; align-items:center; z-index:1000; }
.top-controls-left { left:10px; } 
.top-controls-right { right:10px; }

/* Dropdown Buttons */
.dropdown { position: relative; display:inline-block; }
.icon-btn { display:inline-grid; place-items:center; width:36px; height:36px; border:1px solid rgba(0,0,0,.15); border-radius:10px; background:transparent; color:#004080; cursor:pointer; }
.icon-btn:hover { background:rgba(0,64,128,.1); }
.dropdown-panel { display:none; position:absolute; top:44px; min-width:240px; background:#fff; color:#222; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.18); border:1px solid #e8e8e8; overflow:hidden; z-index:1000; }
.dropdown.open .dropdown-panel { display:block; }
.dropdown-panel ul { list-style:none; padding:6px; margin:0; }
.dropdown-panel li a { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:8px; color:#222; font-weight:600; text-decoration:none; }
.dropdown-panel li a:hover { background:#f3f5f8; }
.divider { height:1px; background:#eee; margin:6px 8px; }

/* Hero Section Placeholder */
.hero { background:#004080; color:#fff; padding:2rem; margin:1.5rem auto; border-radius:10px; max-width:1200px; text-align:center; }

/* Ensure portrait visibility */
@media (max-width:768px) {
  .top-controls-left, .top-controls-right { display:flex; }
}
</style>
</head>
<body>

<!-- Top Left Dropdown & Dark Mode -->
<div class="top-controls-left">
  <button id="darkModeBtn" class="icon-btn" aria-label="Toggle dark mode"><i class="fas fa-moon"></i></button>
  <div class="dropdown" id="leftDropdown">
    <button class="icon-btn"><i class="fas fa-bars"></i></button>
    <div class="dropdown-panel">
      <ul>
        <li><a href="signup.html"><i class="fas fa-user-plus"></i> Open Account</a></li>
        <li><a href="checking.html"><i class="fas fa-credit-card"></i> Checking</a></li>
        <li><a href="savings.html"><i class="fas fa-piggy-bank"></i> Savings</a></li>
      </ul>
    </div>
  </div>
</div>

<!-- Top Right Dropdown -->
<div class="top-controls-right">
  <div class="dropdown" id="rightDropdown">
    <button class="icon-btn"><i class="fas fa-user-circle"></i></button>
    <div class="dropdown-panel">
      <ul>
        <li><a href="login.html"><i class="fas fa-right-to-bracket"></i> Log in</a></li>
        <li><a href="signup.html"><i class="fas fa-user-plus"></i> Sign Up</a></li>
        <li class="divider"></li>
        <li><a href="settings.html"><i class="fas fa-gear"></i> Settings</a></li>
      </ul>
    </div>
  </div>
</div>

<!-- Header Container -->
<div class="header-container">
  <div class="logo-placeholder"></div>
  <span class="bank-name">Oakline Bank</span>
</div>

<!-- Marquee Banner -->
<div class="marquee-banner">
  <div class="marquee-text">üîê Welcome to Oakline Bank ‚Äî secure personal & business banking, competitive rates, and 24/7 support.</div>
</div>

<!-- Dropdown Script -->
<script>
const leftDropdown = document.getElementById('leftDropdown');
const rightDropdown = document.getElementById('rightDropdown');

[leftDropdown, rightDropdown].forEach(drop => {
  const btn = drop.querySelector('button');
  btn.addEventListener('click', (e)=>{
    e.stopPropagation();
    drop.classList.toggle('open');
  });
});

document.addEventListener('click', ()=>{
  [leftDropdown, rightDropdown].forEach(drop => drop.classList.remove('open'));
});

// Dark Mode Toggle
document.getElementById('darkModeBtn').addEventListener('click', ()=>{
  document.body.classList.toggle('dark-mode');
});
</script>
<!-- Hero Section -->
<div class="hero">
  <div class="d-flex flex-column flex-md-row align-items-center justify-content-between gap-3">
    <div>
      <h1>Welcome to Oakline Bank</h1>
      <p>Your secure, modern banking experience starts here.</p>
      <a href="signup.html" class="btn btn-light btn-lg mt-2">Get Started</a>
    </div>
    <div>
      <img src="https://via.placeholder.com/150x150" alt="Handshake Image" class="img-fluid rounded" />
    </div>
  </div>
</div>

<!-- Featured Services / Cards -->
<div class="container my-4" style="max-width:1200px;">
  <div class="row g-3">
    <div class="col-md-4">
      <div class="card p-3 text-center shadow-sm">
        <i class="fas fa-wallet fa-2x mb-2" style="color:#004080;"></i>
        <h5>Checking Account</h5>
        <p>Manage your daily expenses securely and conveniently.</p>
        <a href="checking.html" class="btn btn-outline-primary btn-sm">View Details</a>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-3 text-center shadow-sm">
        <i class="fas fa-piggy-bank fa-2x mb-2" style="color:#004080;"></i>
        <h5>Savings Account</h5>
        <p>Grow your savings with competitive interest rates.</p>
        <a href="savings.html" class="btn btn-outline-primary btn-sm">View Details</a>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-3 text-center shadow-sm">
        <i class="fas fa-mobile-alt fa-2x mb-2" style="color:#004080;"></i>
        <h5>Mobile Banking</h5>
        <p>Bank anytime, anywhere with our secure mobile app.</p>
        <a href="mobile.html" class="btn btn-outline-primary btn-sm">Learn More</a>
      </div>
    </div>
  </div>
</div>

<!-- Optional Balances / Info Cards -->
<div class="container my-4" style="max-width:1200px;">
  <div class="row g-3">
    <div class="col-md-6">
      <div class="balance-card shadow-sm p-3 text-center">
        <h6>Checking Balance</h6>
        <div class="amount">$0.00</div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="balance-card shadow-sm p-3 text-center">
        <h6>Savings Balance</h6>
        <div class="amount">$0.00</div>
      </div>
    </div>
  </div>
</div>
<!-- Recent Transactions / Activity -->
<div class="container my-4" style="max-width:960px;">
  <h5>Recent Activity</h5>
  <ul id="recentTransactions" class="list-group">
    <li class="list-group-item">Loading transactions...</li>
  </ul>
</div>

<!-- Handshake / "Here for You" Section -->
<div class="container my-5 text-center" style="max-width:960px;">
  <img src="https://via.placeholder.com/400x200" class="img-fluid rounded mb-3" alt="Handshake Here">
  <h3>We‚Äôre Here for You</h3>
  <p>Partnering with you to secure your financial future. Our team is ready to assist anytime.</p>
  <a href="contact.html" class="btn btn-primary btn-lg">Contact Us</a>
</div>

<!-- Footer -->
<footer class="mt-5 bg-dark text-light pt-4 pb-3">
  <div class="container" style="max-width:1200px;">
    <div class="row">
      <div class="col-md-4">
        <h6>About Oakline Bank</h6>
        <p>Secure, modern banking designed for you. Manage accounts, track expenses, and grow your wealth easily.</p>
      </div>
      <div class="col-md-4">
        <h6>Quick Links</h6>
        <ul class="list-unstyled">
          <li><a href="index.html" class="text-light text-decoration-none">Home</a></li>
          <li><a href="services.html" class="text-light text-decoration-none">Services</a></li>
          <li><a href="contact.html" class="text-light text-decoration-none">Contact</a></li>
          <li><a href="login.html" class="text-light text-decoration-none">Login</a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h6>Contact Us</h6>
        <p>Email: support@oaklinebank.com</p>
        <p>Phone: (555) 123-4567</p>
        <p>Address: 123 Oakline St, Your City</p>
      </div>
    </div>
    <div class="text-center mt-3">
      <small>&copy; 2025 Oakline Bank. All rights reserved.</small>
    </div>
  </div>
</footer>

<!-- Scripts -->
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabaseUrl = 'https://nrjdmgltshosdqccaymr.supabase.co';
const supabaseKey = 'YOUR_ANON_KEY_HERE'; // Replace with NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel
const supabase = createClient(supabaseUrl, supabaseKey);

const username = localStorage.getItem("loggedInUser");

async function loadRecentTransactions() {
  if (!username) return;

  const { data: userData } = await supabase.from('demo_users').select('id').eq('username', username).single();
  if (!userData) return;

  const { data: deposits } = await supabase.from('deposits').select('*').eq('user_id', userData.id).order('created_at',{ascending:false}).limit(10);
  
  const txList = document.getElementById("recentTransactions");
  txList.innerHTML = "";

  if (!deposits || deposits.length === 0) {
    txList.innerHTML = "<li class='list-group-item'>No transactions yet.</li>";
    return;
  }

  deposits.forEach(tx => {
    const li = document.createElement("li");
    li.className = "list-group-item d-flex justify-content-between align-items-center";
    li.innerHTML = `
      <div>${tx.method.charAt(0).toUpperCase() + tx.method.slice(1)} Deposit</div>
      <div class="text-success">+$${parseFloat(tx.amount).toFixed(2)}</div>
    `;
    txList.appendChild(li);
  });
}

loadRecentTransactions();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
