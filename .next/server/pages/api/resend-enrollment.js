"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/resend-enrollment";
exports.ids = ["pages/api/resend-enrollment"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fresend-enrollment&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fresend-enrollment.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fresend-enrollment&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fresend-enrollment.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_resend_enrollment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/resend-enrollment.js */ \"(api)/./pages/api/resend-enrollment.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_resend_enrollment_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_resend_enrollment_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/resend-enrollment\",\n        pathname: \"/api/resend-enrollment\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_resend_enrollment_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJlc2VuZC1lbnJvbGxtZW50JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZyZXNlbmQtZW5yb2xsbWVudC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM2RDtBQUM3RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsNERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDREQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL29ha2xpbmUtYmFuay8/ZjgyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3Jlc2VuZC1lbnJvbGxtZW50LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmVzZW5kLWVucm9sbG1lbnRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZXNlbmQtZW5yb2xsbWVudFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fresend-enrollment&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fresend-enrollment.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/email.js":
/*!**********************!*\
  !*** ./lib/email.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n// lib/email.js\n\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport({\n    host: process.env.SMTP_HOST,\n    port: parseInt(process.env.SMTP_PORT, 10),\n    secure: true,\n    auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS\n    }\n});\nasync function sendEmail({ to, subject, text, html }) {\n    try {\n        const info = await transporter.sendMail({\n            from: process.env.SMTP_FROM,\n            to,\n            subject,\n            text,\n            html\n        });\n        console.log(\"Email sent: \", info.messageId);\n        return info;\n    } catch (err) {\n        console.error(\"Error sending email: \", err);\n        throw err;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZW1haWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZUFBZTtBQUNxQjtBQUVwQyxNQUFNQyxjQUFjRCxpRUFBMEIsQ0FBQztJQUM3Q0csTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxTQUFTO0lBQzNCQyxNQUFNQyxTQUFTSixRQUFRQyxHQUFHLENBQUNJLFNBQVMsRUFBRTtJQUN0Q0MsUUFBUTtJQUNSQyxNQUFNO1FBQ0pDLE1BQU1SLFFBQVFDLEdBQUcsQ0FBQ1EsU0FBUztRQUMzQkMsTUFBTVYsUUFBUUMsR0FBRyxDQUFDVSxTQUFTO0lBQzdCO0FBQ0Y7QUFFTyxlQUFlQyxVQUFVLEVBQUVDLEVBQUUsRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRTtJQUN6RCxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNcEIsWUFBWXFCLFFBQVEsQ0FBQztZQUN0Q0MsTUFBTW5CLFFBQVFDLEdBQUcsQ0FBQ21CLFNBQVM7WUFDM0JQO1lBQ0FDO1lBQ0FDO1lBQ0FDO1FBQ0Y7UUFDQUssUUFBUUMsR0FBRyxDQUFDLGdCQUFnQkwsS0FBS00sU0FBUztRQUMxQyxPQUFPTjtJQUNULEVBQUUsT0FBT08sS0FBSztRQUNaSCxRQUFRSSxLQUFLLENBQUMseUJBQXlCRDtRQUN2QyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vYWtsaW5lLWJhbmsvLi9saWIvZW1haWwuanM/MGM1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvZW1haWwuanNcbmltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xuXG5jb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgaG9zdDogcHJvY2Vzcy5lbnYuU01UUF9IT1NULFxuICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5TTVRQX1BPUlQsIDEwKSxcbiAgc2VjdXJlOiB0cnVlLCAvLyB1c2UgU1NMXG4gIGF1dGg6IHtcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5TTVRQX1VTRVIsXG4gICAgcGFzczogcHJvY2Vzcy5lbnYuU01UUF9QQVNTLFxuICB9LFxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRW1haWwoeyB0bywgc3ViamVjdCwgdGV4dCwgaHRtbCB9KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICAgIGZyb206IHByb2Nlc3MuZW52LlNNVFBfRlJPTSxcbiAgICAgIHRvLFxuICAgICAgc3ViamVjdCxcbiAgICAgIHRleHQsXG4gICAgICBodG1sLFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnLCBpbmZvLm1lc3NhZ2VJZCk7XG4gICAgcmV0dXJuIGluZm87XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZW1haWw6ICcsIGVycik7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG4iXSwibmFtZXMiOlsibm9kZW1haWxlciIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJTTVRQX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJTTVRQX1BPUlQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIlNNVFBfVVNFUiIsInBhc3MiLCJTTVRQX1BBU1MiLCJzZW5kRW1haWwiLCJ0byIsInN1YmplY3QiLCJ0ZXh0IiwiaHRtbCIsImluZm8iLCJzZW5kTWFpbCIsImZyb20iLCJTTVRQX0ZST00iLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZUlkIiwiZXJyIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/email.js\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n// lib/supabaseClient.js\n\n// Supabase configuration - Use your environment variables\nconst supabaseUrl = \"https://nrjdmgltshosdqccaymr.supabase.co\" || 0 || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yamRtZ2x0c2hvc2RxY2NheW1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMzYyMjAsImV4cCI6MjA3MTYxMjIyMH0.b9H553W2PCsSNvr8HyyINl4nTSrldHN_QMQ3TVwt6qk\" || 0 || 0;\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yamRtZ2x0c2hvc2RxY2NheW1yIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjAzNjIyMCwiZXhwIjoyMDcxNjEyMjIwfQ.cXKwVlQNqtAE13jrgmr2RBuIwtEbxqGsVF9SiRwqV_E\";\n// Validate required environment variables\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\"Missing Supabase configuration\");\n}\n// Public client for front-end (browser)\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Server-side client with elevated privileges\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLHdCQUF3QjtBQUM2QjtBQUVyRCwwREFBMEQ7QUFDMUQsTUFBTUMsY0FBY0MsMENBQW9DLElBQUlBLENBQXdCLElBQUk7QUFDeEYsTUFBTUksa0JBQWtCSixrTkFBeUMsSUFBSUEsQ0FBNkIsSUFBSTtBQUN0RyxNQUFNTyxxQkFBcUJQLFFBQVFDLEdBQUcsQ0FBQ08seUJBQXlCLElBQUlSLFFBQVFDLEdBQUcsQ0FBQ1Esb0JBQW9CLElBQUk7QUFFeEcsMENBQTBDO0FBQzFDLElBQUksQ0FBQ1YsZUFBZSxDQUFDSyxpQkFBaUI7SUFDcENNLFFBQVFDLEtBQUssQ0FBQztBQUNoQjtBQUVBLHdDQUF3QztBQUNqQyxNQUFNQyxXQUFXZCxtRUFBWUEsQ0FBQ0MsYUFBYUssaUJBQWlCO0FBRW5FLDhDQUE4QztBQUN2QyxNQUFNUyxnQkFBZ0JmLG1FQUFZQSxDQUFDQyxhQUFhUSxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vYWtsaW5lLWJhbmsvLi9saWIvc3VwYWJhc2VDbGllbnQuanM/NWYwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIGxpYi9zdXBhYmFzZUNsaWVudC5qc1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8gU3VwYWJhc2UgY29uZmlndXJhdGlvbiAtIFVzZSB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMIHx8ICdodHRwczovL25yamRtZ2x0c2hvc2RxY2NheW1yLnN1cGFiYXNlLmNvJztcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZIHx8ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbTV5YW1SdFoyeDBjMmh2YzJSeFkyTmhlVzF5SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNOVFl3TXpZeU1qQXNJbVY0Y0NJNk1qQTNNVFl4TWpJeU1IMC5iOUg1NTNXMlBDc1NOdnI4SHl5SU5sNG5UU3JsZEhOX1FNUTNUVnd0NnFrJztcbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9LRVkgfHwgJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkltNXlhbVJ0WjJ4MGMyaHZjMlJ4WTJOaGVXMXlJaXdpY205c1pTSTZJbk5sY25acFkyVmZjbTlzWlNJc0ltbGhkQ0k2TVRjMU5qQXpOakl5TUN3aVpYaHdJam95TURjeE5qRXlNakl3ZlEuY1hLd1ZsUU5xdEFFMTNqcmdtcjJSQnVJd3RFYnhxR3NWRjlTaVJ3cVZfRSc7XG5cbi8vIFZhbGlkYXRlIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlc1xuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XG4gIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgY29uZmlndXJhdGlvbicpO1xufVxuXG4vLyBQdWJsaWMgY2xpZW50IGZvciBmcm9udC1lbmQgKGJyb3dzZXIpXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSk7XG5cbi8vIFNlcnZlci1zaWRlIGNsaWVudCB3aXRoIGVsZXZhdGVkIHByaXZpbGVnZXNcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXkpO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiU1VQQUJBU0VfU0VSVklDRV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/resend-enrollment.js":
/*!****************************************!*\
  !*** ./pages/api/resend-enrollment.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/email */ \"(api)/./lib/email.js\");\n// pages/api/resend-enrollment.js\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { email, application_id } = req.body;\n    // Validate input - require either email or application_id\n    if (!email && !application_id) {\n        return res.status(400).json({\n            error: \"Either email or application_id is required\"\n        });\n    }\n    try {\n        let application;\n        // Find application by email or application_id\n        if (application_id) {\n            const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"applications\").select(\"*\").eq(\"id\", application_id).single();\n            if (error || !data) {\n                return res.status(404).json({\n                    error: \"Application not found\"\n                });\n            }\n            application = data;\n        } else {\n            const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"applications\").select(\"*\").eq(\"email\", email).single();\n            if (error || !data) {\n                return res.status(404).json({\n                    error: \"Application not found\"\n                });\n            }\n            application = data;\n        }\n        // Check if user has already enrolled by checking if auth user exists\n        const { data: authUsers, error: authError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.auth.admin.listUsers();\n        if (authError) {\n            console.error(\"Error checking auth users:\", authError);\n        } else {\n            const existingAuthUser = authUsers.users.find((user)=>user.email === application.email);\n            if (existingAuthUser) {\n                return res.status(400).json({\n                    error: \"User has already completed enrollment\"\n                });\n            }\n        }\n        // Get application's account numbers for the email\n        const { data: accounts, error: accountsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"accounts\").select(\"account_number, account_type\").eq(\"application_id\", application.id);\n        if (accountsError) {\n            console.error(\"Error fetching accounts:\", accountsError);\n            return res.status(500).json({\n                error: \"Failed to fetch account information\"\n            });\n        }\n        const accountNumbers = accounts?.map((acc)=>acc.account_number) || [];\n        const accountTypes = accounts?.map((acc)=>acc.account_type) || [];\n        // Generate enrollment token\n        const enrollmentToken = `enroll_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n        // Store enrollment token\n        const { error: enrollmentError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"enrollments\").insert([\n            {\n                email: application.email,\n                token: enrollmentToken,\n                is_used: false\n            }\n        ]);\n        if (enrollmentError) {\n            console.error(\"Error storing enrollment token:\", enrollmentError);\n            return res.status(500).json({\n                error: \"Failed to create enrollment record\"\n            });\n        }\n        // Create enrollment link\n        const siteUrl =  true ? `https://${process.env.REPLIT_DEV_DOMAIN}` : 0;\n        const enrollLink = `${siteUrl}/enroll?token=${enrollmentToken}&application_id=${application.id}`;\n        // Send enrollment email\n        const emailHtml = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #0070f3;\">Welcome to Oakline Bank, ${application.first_name}!</h2>\n        <p>Your application has been processed and your accounts are ready for activation.</p>\n        \n        ${accountNumbers.length > 0 ? `\n          <div style=\"background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;\">\n            <h3 style=\"margin-top: 0; color: #333;\">Your Account Numbers:</h3>\n            ${accountNumbers.map((num, index)=>`\n              <p style=\"font-family: monospace; font-size: 16px; margin: 5px 0;\">\n                <strong>${accountTypes[index] ? accountTypes[index].replace(\"_\", \" \").replace(/\\b\\w/g, (l)=>l.toUpperCase()) : \"Account\"}:</strong> ${num}\n              </p>\n            `).join(\"\")}\n            <p style=\"font-family: monospace; font-size: 16px; margin: 5px 0;\">\n              <strong>Routing Number:</strong> 075915826\n            </p>\n          </div>\n        ` : \"\"}\n        \n        <p>To complete your enrollment and activate your accounts, please click the button below:</p>\n        \n        <div style=\"text-align: center; margin: 30px 0;\">\n          <a href=\"${enrollLink}\" \n             style=\"display: inline-block; padding: 15px 30px; background: #0070f3; color: white; \n                    text-decoration: none; border-radius: 5px; font-weight: bold;\">\n            Complete Enrollment\n          </a>\n        </div>\n        \n        <p style=\"color: #666; font-size: 14px;\">\n          If the button doesn't work, you can copy and paste this link into your browser:<br>\n          <a href=\"${enrollLink}\">${enrollLink}</a>\n        </p>\n        \n        <p>If you have any questions, please contact our support team.</p>\n        \n        <p>Best regards,<br>\n        <strong>Oakline Bank Team</strong></p>\n      </div>\n    `;\n        await (0,_lib_email__WEBPACK_IMPORTED_MODULE_1__.sendEmail)({\n            to: application.email,\n            subject: \"Complete Your Oakline Bank Enrollment\",\n            html: emailHtml\n        });\n        res.status(200).json({\n            message: \"Enrollment email sent successfully\",\n            application: {\n                id: application.id,\n                email: application.email,\n                name: `${application.first_name} ${application.last_name}`\n            }\n        });\n    } catch (error) {\n        console.error(\"Error resending enrollment:\", error);\n        res.status(500).json({\n            error: \"Failed to resend enrollment email\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNiLEVBQUVBLFdBQVcsRUFBRSxFQUFFQSxXQUFXOzs7Ozs7OztJQVEzQyxDQUFDO1FBRUQsTUFBTXBELHFEQUFTQSxDQUFDO1lBQ2Q4RCxJQUFJbkQsWUFBWUgsS0FBSztZQUNyQnVELFNBQVM7WUFDVEMsTUFBTVg7UUFDUjtRQUVBbEQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQjJELFNBQVM7WUFDVHRELGFBQWE7Z0JBQ1hrQixJQUFJbEIsWUFBWWtCLEVBQUU7Z0JBQ2xCckIsT0FBT0csWUFBWUgsS0FBSztnQkFDeEIwRCxNQUFNLENBQUMsRUFBRXZELFlBQVkyQyxVQUFVLENBQUMsQ0FBQyxFQUFFM0MsWUFBWXdELFNBQVMsQ0FBQyxDQUFDO1lBQzVEO1FBQ0Y7SUFFRixFQUFFLE9BQU81RCxPQUFPO1FBQ2RlLFFBQVFmLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBb0M7SUFDcEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29ha2xpbmUtYmFuay8uL3BhZ2VzL2FwaS9yZXNlbmQtZW5yb2xsbWVudC5qcz8yNjA4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gcGFnZXMvYXBpL3Jlc2VuZC1lbnJvbGxtZW50LmpzXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnLi4vLi4vbGliL3N1cGFiYXNlQ2xpZW50JztcbmltcG9ydCB7IHNlbmRFbWFpbCB9IGZyb20gJy4uLy4uL2xpYi9lbWFpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgZW1haWwsIGFwcGxpY2F0aW9uX2lkIH0gPSByZXEuYm9keTtcblxuICAvLyBWYWxpZGF0ZSBpbnB1dCAtIHJlcXVpcmUgZWl0aGVyIGVtYWlsIG9yIGFwcGxpY2F0aW9uX2lkXG4gIGlmICghZW1haWwgJiYgIWFwcGxpY2F0aW9uX2lkKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFaXRoZXIgZW1haWwgb3IgYXBwbGljYXRpb25faWQgaXMgcmVxdWlyZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsZXQgYXBwbGljYXRpb247XG5cbiAgICAvLyBGaW5kIGFwcGxpY2F0aW9uIGJ5IGVtYWlsIG9yIGFwcGxpY2F0aW9uX2lkXG4gICAgaWYgKGFwcGxpY2F0aW9uX2lkKSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCdhcHBsaWNhdGlvbnMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdpZCcsIGFwcGxpY2F0aW9uX2lkKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvciB8fCAhZGF0YSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0FwcGxpY2F0aW9uIG5vdCBmb3VuZCcgfSk7XG4gICAgICB9XG4gICAgICBhcHBsaWNhdGlvbiA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgLmZyb20oJ2FwcGxpY2F0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ2VtYWlsJywgZW1haWwpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yIHx8ICFkYXRhKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnQXBwbGljYXRpb24gbm90IGZvdW5kJyB9KTtcbiAgICAgIH1cbiAgICAgIGFwcGxpY2F0aW9uID0gZGF0YTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBhbHJlYWR5IGVucm9sbGVkIGJ5IGNoZWNraW5nIGlmIGF1dGggdXNlciBleGlzdHNcbiAgICBjb25zdCB7IGRhdGE6IGF1dGhVc2VycywgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5hdXRoLmFkbWluLmxpc3RVc2VycygpO1xuICAgIGlmIChhdXRoRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGF1dGggdXNlcnM6JywgYXV0aEVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXhpc3RpbmdBdXRoVXNlciA9IGF1dGhVc2Vycy51c2Vycy5maW5kKHVzZXIgPT4gdXNlci5lbWFpbCA9PT0gYXBwbGljYXRpb24uZW1haWwpO1xuICAgICAgaWYgKGV4aXN0aW5nQXV0aFVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVc2VyIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBlbnJvbGxtZW50JyB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgYXBwbGljYXRpb24ncyBhY2NvdW50IG51bWJlcnMgZm9yIHRoZSBlbWFpbFxuICAgIGNvbnN0IHsgZGF0YTogYWNjb3VudHMsIGVycm9yOiBhY2NvdW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgnYWNjb3VudHMnKVxuICAgICAgLnNlbGVjdCgnYWNjb3VudF9udW1iZXIsIGFjY291bnRfdHlwZScpXG4gICAgICAuZXEoJ2FwcGxpY2F0aW9uX2lkJywgYXBwbGljYXRpb24uaWQpO1xuXG4gICAgaWYgKGFjY291bnRzRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFjY291bnRzOicsIGFjY291bnRzRXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYWNjb3VudCBpbmZvcm1hdGlvbicgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWNjb3VudE51bWJlcnMgPSBhY2NvdW50cz8ubWFwKGFjYyA9PiBhY2MuYWNjb3VudF9udW1iZXIpIHx8IFtdO1xuICAgIGNvbnN0IGFjY291bnRUeXBlcyA9IGFjY291bnRzPy5tYXAoYWNjID0+IGFjYy5hY2NvdW50X3R5cGUpIHx8IFtdO1xuXG4gICAgLy8gR2VuZXJhdGUgZW5yb2xsbWVudCB0b2tlblxuICAgIGNvbnN0IGVucm9sbG1lbnRUb2tlbiA9IGBlbnJvbGxfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSl9YDtcblxuICAgIC8vIFN0b3JlIGVucm9sbG1lbnQgdG9rZW5cbiAgICBjb25zdCB7IGVycm9yOiBlbnJvbGxtZW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdlbnJvbGxtZW50cycpXG4gICAgICAuaW5zZXJ0KFt7XG4gICAgICAgIGVtYWlsOiBhcHBsaWNhdGlvbi5lbWFpbCxcbiAgICAgICAgdG9rZW46IGVucm9sbG1lbnRUb2tlbixcbiAgICAgICAgaXNfdXNlZDogZmFsc2VcbiAgICAgIH1dKTtcblxuICAgIGlmIChlbnJvbGxtZW50RXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3JpbmcgZW5yb2xsbWVudCB0b2tlbjonLCBlbnJvbGxtZW50RXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIGVucm9sbG1lbnQgcmVjb3JkJyB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgZW5yb2xsbWVudCBsaW5rXG4gICAgY29uc3Qgc2l0ZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMIHx8IHByb2Nlc3MuZW52LlJFUExJVF9ERVZfRE9NQUlOIFxuICAgICAgPyBgaHR0cHM6Ly8ke3Byb2Nlc3MuZW52LlJFUExJVF9ERVZfRE9NQUlOfWBcbiAgICAgIDogJ2h0dHBzOi8vb2FrbGluZXdvcmtzcGFjLW9ha2xpbmUtYmFuay5yZXBsLmNvJztcbiAgICBcbiAgICBjb25zdCBlbnJvbGxMaW5rID0gYCR7c2l0ZVVybH0vZW5yb2xsP3Rva2VuPSR7ZW5yb2xsbWVudFRva2VufSZhcHBsaWNhdGlvbl9pZD0ke2FwcGxpY2F0aW9uLmlkfWA7XG5cbiAgICAvLyBTZW5kIGVucm9sbG1lbnQgZW1haWxcbiAgICBjb25zdCBlbWFpbEh0bWwgPSBgXG4gICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cbiAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICMwMDcwZjM7XCI+V2VsY29tZSB0byBPYWtsaW5lIEJhbmssICR7YXBwbGljYXRpb24uZmlyc3RfbmFtZX0hPC9oMj5cbiAgICAgICAgPHA+WW91ciBhcHBsaWNhdGlvbiBoYXMgYmVlbiBwcm9jZXNzZWQgYW5kIHlvdXIgYWNjb3VudHMgYXJlIHJlYWR5IGZvciBhY3RpdmF0aW9uLjwvcD5cbiAgICAgICAgXG4gICAgICAgICR7YWNjb3VudE51bWJlcnMubGVuZ3RoID4gMCA/IGBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogNXB4OyBtYXJnaW46IDIwcHggMDtcIj5cbiAgICAgICAgICAgIDxoMyBzdHlsZT1cIm1hcmdpbi10b3A6IDA7IGNvbG9yOiAjMzMzO1wiPllvdXIgQWNjb3VudCBOdW1iZXJzOjwvaDM+XG4gICAgICAgICAgICAke2FjY291bnROdW1iZXJzLm1hcCgobnVtLCBpbmRleCkgPT4gYFxuICAgICAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiBtb25vc3BhY2U7IGZvbnQtc2l6ZTogMTZweDsgbWFyZ2luOiA1cHggMDtcIj5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPiR7YWNjb3VudFR5cGVzW2luZGV4XSA/IGFjY291bnRUeXBlc1tpbmRleF0ucmVwbGFjZSgnXycsICcgJykucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKSA6ICdBY2NvdW50J306PC9zdHJvbmc+ICR7bnVtfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNnB4OyBtYXJnaW46IDVweCAwO1wiPlxuICAgICAgICAgICAgICA8c3Ryb25nPlJvdXRpbmcgTnVtYmVyOjwvc3Ryb25nPiAwNzU5MTU4MjZcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICBcbiAgICAgICAgPHA+VG8gY29tcGxldGUgeW91ciBlbnJvbGxtZW50IGFuZCBhY3RpdmF0ZSB5b3VyIGFjY291bnRzLCBwbGVhc2UgY2xpY2sgdGhlIGJ1dHRvbiBiZWxvdzo8L3A+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgICAgICA8YSBocmVmPVwiJHtlbnJvbGxMaW5rfVwiIFxuICAgICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrOyBwYWRkaW5nOiAxNXB4IDMwcHg7IGJhY2tncm91bmQ6ICMwMDcwZjM7IGNvbG9yOiB3aGl0ZTsgXG4gICAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNXB4OyBmb250LXdlaWdodDogYm9sZDtcIj5cbiAgICAgICAgICAgIENvbXBsZXRlIEVucm9sbG1lbnRcbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAgIElmIHRoZSBidXR0b24gZG9lc24ndCB3b3JrLCB5b3UgY2FuIGNvcHkgYW5kIHBhc3RlIHRoaXMgbGluayBpbnRvIHlvdXIgYnJvd3Nlcjo8YnI+XG4gICAgICAgICAgPGEgaHJlZj1cIiR7ZW5yb2xsTGlua31cIj4ke2Vucm9sbExpbmt9PC9hPlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICA8cD5JZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLCBwbGVhc2UgY29udGFjdCBvdXIgc3VwcG9ydCB0ZWFtLjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPkJlc3QgcmVnYXJkcyw8YnI+XG4gICAgICAgIDxzdHJvbmc+T2FrbGluZSBCYW5rIFRlYW08L3N0cm9uZz48L3A+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgYXdhaXQgc2VuZEVtYWlsKHtcbiAgICAgIHRvOiBhcHBsaWNhdGlvbi5lbWFpbCxcbiAgICAgIHN1YmplY3Q6ICdDb21wbGV0ZSBZb3VyIE9ha2xpbmUgQmFuayBFbnJvbGxtZW50JyxcbiAgICAgIGh0bWw6IGVtYWlsSHRtbFxuICAgIH0pO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgIG1lc3NhZ2U6ICdFbnJvbGxtZW50IGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgIGlkOiBhcHBsaWNhdGlvbi5pZCxcbiAgICAgICAgZW1haWw6IGFwcGxpY2F0aW9uLmVtYWlsLFxuICAgICAgICBuYW1lOiBgJHthcHBsaWNhdGlvbi5maXJzdF9uYW1lfSAke2FwcGxpY2F0aW9uLmxhc3RfbmFtZX1gXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNlbmRpbmcgZW5yb2xsbWVudDonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byByZXNlbmQgZW5yb2xsbWVudCBlbWFpbCcgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzdXBhYmFzZUFkbWluIiwic2VuZEVtYWlsIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImVtYWlsIiwiYXBwbGljYXRpb25faWQiLCJib2R5IiwiYXBwbGljYXRpb24iLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiYXV0aFVzZXJzIiwiYXV0aEVycm9yIiwiYXV0aCIsImFkbWluIiwibGlzdFVzZXJzIiwiY29uc29sZSIsImV4aXN0aW5nQXV0aFVzZXIiLCJ1c2VycyIsImZpbmQiLCJ1c2VyIiwiYWNjb3VudHMiLCJhY2NvdW50c0Vycm9yIiwiaWQiLCJhY2NvdW50TnVtYmVycyIsIm1hcCIsImFjYyIsImFjY291bnRfbnVtYmVyIiwiYWNjb3VudFR5cGVzIiwiYWNjb3VudF90eXBlIiwiZW5yb2xsbWVudFRva2VuIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVucm9sbG1lbnRFcnJvciIsImluc2VydCIsInRva2VuIiwiaXNfdXNlZCIsInNpdGVVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU0lURV9VUkwiLCJSRVBMSVRfREVWX0RPTUFJTiIsImVucm9sbExpbmsiLCJlbWFpbEh0bWwiLCJmaXJzdF9uYW1lIiwibGVuZ3RoIiwibnVtIiwiaW5kZXgiLCJyZXBsYWNlIiwibCIsInRvVXBwZXJDYXNlIiwiam9pbiIsInRvIiwic3ViamVjdCIsImh0bWwiLCJtZXNzYWdlIiwibmFtZSIsImxhc3RfbmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/resend-enrollment.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fresend-enrollment&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fresend-enrollment.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();