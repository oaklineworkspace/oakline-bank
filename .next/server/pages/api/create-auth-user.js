"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/create-auth-user";
exports.ids = ["pages/api/create-auth-user"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcreate-auth-user&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcreate-auth-user.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcreate-auth-user&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcreate-auth-user.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_create_auth_user_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/create-auth-user.js */ \"(api)/./pages/api/create-auth-user.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_create_auth_user_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_create_auth_user_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/create-auth-user\",\n        pathname: \"/api/create-auth-user\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_create_auth_user_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNyZWF0ZS1hdXRoLXVzZXImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmNyZWF0ZS1hdXRoLXVzZXIuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNEQ7QUFDNUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vYWtsaW5lLWJhbmsvPzI1ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9jcmVhdGUtYXV0aC11c2VyLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY3JlYXRlLWF1dGgtdXNlclwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NyZWF0ZS1hdXRoLXVzZXJcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcreate-auth-user&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcreate-auth-user.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n// lib/supabaseClient.js\n\n// Supabase configuration - Use your environment variables\nconst supabaseUrl = \"https://nrjdmgltshosdqccaymr.supabase.co\" || 0 || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yamRtZ2x0c2hvc2RxY2NheW1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMzYyMjAsImV4cCI6MjA3MTYxMjIyMH0.b9H553W2PCsSNvr8HyyINl4nTSrldHN_QMQ3TVwt6qk\" || 0 || 0;\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yamRtZ2x0c2hvc2RxY2NheW1yIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjAzNjIyMCwiZXhwIjoyMDcxNjEyMjIwfQ.cXKwVlQNqtAE13jrgmr2RBuIwtEbxqGsVF9SiRwqV_E\";\n// Validate required environment variables\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\"Missing Supabase configuration\");\n}\n// Public client for front-end (browser)\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Server-side client with elevated privileges\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLHdCQUF3QjtBQUM2QjtBQUVyRCwwREFBMEQ7QUFDMUQsTUFBTUMsY0FBY0MsMENBQW9DLElBQUlBLENBQXdCLElBQUk7QUFDeEYsTUFBTUksa0JBQWtCSixrTkFBeUMsSUFBSUEsQ0FBNkIsSUFBSTtBQUN0RyxNQUFNTyxxQkFBcUJQLFFBQVFDLEdBQUcsQ0FBQ08seUJBQXlCLElBQUlSLFFBQVFDLEdBQUcsQ0FBQ1Esb0JBQW9CLElBQUk7QUFFeEcsMENBQTBDO0FBQzFDLElBQUksQ0FBQ1YsZUFBZSxDQUFDSyxpQkFBaUI7SUFDcENNLFFBQVFDLEtBQUssQ0FBQztBQUNoQjtBQUVBLHdDQUF3QztBQUNqQyxNQUFNQyxXQUFXZCxtRUFBWUEsQ0FBQ0MsYUFBYUssaUJBQWlCO0FBRW5FLDhDQUE4QztBQUN2QyxNQUFNUyxnQkFBZ0JmLG1FQUFZQSxDQUFDQyxhQUFhUSxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vYWtsaW5lLWJhbmsvLi9saWIvc3VwYWJhc2VDbGllbnQuanM/NWYwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIGxpYi9zdXBhYmFzZUNsaWVudC5qc1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8gU3VwYWJhc2UgY29uZmlndXJhdGlvbiAtIFVzZSB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMIHx8ICdodHRwczovL25yamRtZ2x0c2hvc2RxY2NheW1yLnN1cGFiYXNlLmNvJztcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZIHx8ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbTV5YW1SdFoyeDBjMmh2YzJSeFkyTmhlVzF5SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNOVFl3TXpZeU1qQXNJbVY0Y0NJNk1qQTNNVFl4TWpJeU1IMC5iOUg1NTNXMlBDc1NOdnI4SHl5SU5sNG5UU3JsZEhOX1FNUTNUVnd0NnFrJztcbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9LRVkgfHwgJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkltNXlhbVJ0WjJ4MGMyaHZjMlJ4WTJOaGVXMXlJaXdpY205c1pTSTZJbk5sY25acFkyVmZjbTlzWlNJc0ltbGhkQ0k2TVRjMU5qQXpOakl5TUN3aVpYaHdJam95TURjeE5qRXlNakl3ZlEuY1hLd1ZsUU5xdEFFMTNqcmdtcjJSQnVJd3RFYnhxR3NWRjlTaVJ3cVZfRSc7XG5cbi8vIFZhbGlkYXRlIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlc1xuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XG4gIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgY29uZmlndXJhdGlvbicpO1xufVxuXG4vLyBQdWJsaWMgY2xpZW50IGZvciBmcm9udC1lbmQgKGJyb3dzZXIpXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSk7XG5cbi8vIFNlcnZlci1zaWRlIGNsaWVudCB3aXRoIGVsZXZhdGVkIHByaXZpbGVnZXNcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXkpO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiU1VQQUJBU0VfU0VSVklDRV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/create-auth-user.js":
/*!***************************************!*\
  !*** ./pages/api/create-auth-user.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { token, application_id } = req.body;\n    if (!token || !application_id) {\n        return res.status(400).json({\n            error: \"Token and application_id are required\"\n        });\n    }\n    try {\n        // 1. Verify enrollment token\n        const { data: enrollmentData, error: enrollmentError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"enrollments\").select(\"*\").eq(\"token\", token).eq(\"is_used\", false).single();\n        if (enrollmentError || !enrollmentData) {\n            return res.status(404).json({\n                error: \"Invalid or already used enrollment token\"\n            });\n        }\n        // 2. Get application data\n        const { data: applicationData, error: applicationError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"applications\").select(\"*\").eq(\"id\", application_id).single();\n        if (applicationError || !applicationData) {\n            return res.status(404).json({\n                error: \"Application not found\"\n            });\n        }\n        // 3. Verify email matches\n        if (enrollmentData.email !== applicationData.email) {\n            return res.status(400).json({\n                error: \"Email verification failed\"\n            });\n        }\n        // 4. Check if Supabase Auth user already exists\n        let authUser = null;\n        try {\n            const { data: existingUsers, error: listError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.auth.admin.listUsers();\n            if (listError) {\n                console.error(\"Error listing users:\", listError);\n                return res.status(500).json({\n                    error: \"Failed to check existing users\"\n                });\n            }\n            const existingUser = existingUsers?.users?.find((user)=>user.email === applicationData.email);\n            if (!existingUser) {\n                // Create Supabase Auth user with temporary password\n                const tempPassword = `temp_${Date.now()}_${Math.random().toString(36).substring(2)}`;\n                console.log(\"Creating new auth user for:\", applicationData.email);\n                const { data: newUser, error: createError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.auth.admin.createUser({\n                    email: applicationData.email,\n                    password: tempPassword,\n                    email_confirm: true,\n                    user_metadata: {\n                        first_name: applicationData.first_name,\n                        last_name: applicationData.last_name,\n                        middle_name: applicationData.middle_name,\n                        application_id: applicationData.id\n                    }\n                });\n                if (createError) {\n                    console.error(\"Error creating auth user:\", createError);\n                    return res.status(500).json({\n                        error: \"Failed to create user account\",\n                        details: createError.message\n                    });\n                }\n                authUser = newUser.user;\n                console.log(\"Auth user created successfully:\", authUser.id);\n                // Create profile record manually if the trigger didn't work\n                try {\n                    const { error: profileError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"profiles\").insert({\n                        id: authUser.id,\n                        email: applicationData.email,\n                        first_name: applicationData.first_name,\n                        last_name: applicationData.last_name,\n                        middle_name: applicationData.middle_name,\n                        phone: applicationData.phone,\n                        date_of_birth: applicationData.date_of_birth,\n                        country: applicationData.country,\n                        address: applicationData.address,\n                        city: applicationData.city,\n                        state: applicationData.state,\n                        zip_code: applicationData.zip_code,\n                        ssn: applicationData.ssn,\n                        id_number: applicationData.id_number,\n                        application_id: applicationData.id,\n                        enrollment_completed: false\n                    });\n                    if (profileError) {\n                        console.log(\"Profile creation error (may be expected if trigger works):\", profileError.message);\n                    } else {\n                        console.log(\"Profile created successfully\");\n                    }\n                } catch (profileCreateError) {\n                    console.log(\"Profile creation attempt failed:\", profileCreateError.message);\n                }\n            } else {\n                authUser = existingUser;\n                console.log(\"Using existing auth user:\", authUser.id);\n            }\n        } catch (userCreationError) {\n            console.error(\"Auth user creation process error:\", userCreationError);\n            return res.status(500).json({\n                error: \"Failed to process user authentication\",\n                details: userCreationError.message\n            });\n        }\n        res.status(200).json({\n            message: \"Auth user ready for enrollment\",\n            user: {\n                id: applicationData.id,\n                email: applicationData.email,\n                name: `${applicationData.first_name} ${applicationData.middle_name ? applicationData.middle_name + \" \" : \"\"}${applicationData.last_name}`,\n                auth_id: authUser.id\n            }\n        });\n    } catch (error) {\n        console.error(\"Create auth user error:\", error);\n        res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsOERBQThEYSxhQUFhRCxPQUFPO29CQUNoRyxPQUFPO3dCQUNMeEIsUUFBUVksR0FBRyxDQUFDO29CQUNkO2dCQUNGLEVBQUUsT0FBT3lCLG9CQUFvQjtvQkFDM0JyQyxRQUFRWSxHQUFHLENBQUMsb0NBQW9DeUIsbUJBQW1CYixPQUFPO2dCQUM1RTtZQUVGLE9BQU87Z0JBQ0w5QixXQUFXTztnQkFDWEQsUUFBUVksR0FBRyxDQUFDLDZCQUE2QmxCLFNBQVM0QixFQUFFO1lBQ3REO1FBQ0YsRUFBRSxPQUFPZ0IsbUJBQW1CO1lBQzFCdEMsUUFBUXBCLEtBQUssQ0FBQyxxQ0FBcUMwRDtZQUNuRCxPQUFPOUQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLE9BQU87Z0JBQ1AyQyxTQUFTZSxrQkFBa0JkLE9BQU87WUFDcEM7UUFDRjtRQUVBaEQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQjZDLFNBQVM7WUFDVHBCLE1BQU07Z0JBQ0prQixJQUFJL0IsZ0JBQWdCK0IsRUFBRTtnQkFDdEI3QixPQUFPRixnQkFBZ0JFLEtBQUs7Z0JBQzVCOEMsTUFBTSxDQUFDLEVBQUVoRCxnQkFBZ0I0QixVQUFVLENBQUMsQ0FBQyxFQUFFNUIsZ0JBQWdCOEIsV0FBVyxHQUFHOUIsZ0JBQWdCOEIsV0FBVyxHQUFHLE1BQU0sR0FBRyxFQUFFOUIsZ0JBQWdCNkIsU0FBUyxDQUFDLENBQUM7Z0JBQ3pJb0IsU0FBUzlDLFNBQVM0QixFQUFFO1lBQ3RCO1FBQ0Y7SUFFRixFQUFFLE9BQU8xQyxPQUFPO1FBQ2RvQixRQUFRcEIsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekNKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUN4RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2FrbGluZS1iYW5rLy4vcGFnZXMvYXBpL2NyZWF0ZS1hdXRoLXVzZXIuanM/YjcxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICcuLi8uLi9saWIvc3VwYWJhc2VDbGllbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICBjb25zdCB7IHRva2VuLCBhcHBsaWNhdGlvbl9pZCB9ID0gcmVxLmJvZHk7XG5cbiAgaWYgKCF0b2tlbiB8fCAhYXBwbGljYXRpb25faWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1Rva2VuIGFuZCBhcHBsaWNhdGlvbl9pZCBhcmUgcmVxdWlyZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyAxLiBWZXJpZnkgZW5yb2xsbWVudCB0b2tlblxuICAgIGNvbnN0IHsgZGF0YTogZW5yb2xsbWVudERhdGEsIGVycm9yOiBlbnJvbGxtZW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdlbnJvbGxtZW50cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgndG9rZW4nLCB0b2tlbilcbiAgICAgIC5lcSgnaXNfdXNlZCcsIGZhbHNlKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVucm9sbG1lbnRFcnJvciB8fCAhZW5yb2xsbWVudERhdGEpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBvciBhbHJlYWR5IHVzZWQgZW5yb2xsbWVudCB0b2tlbicgfSk7XG4gICAgfVxuXG4gICAgLy8gMi4gR2V0IGFwcGxpY2F0aW9uIGRhdGFcbiAgICBjb25zdCB7IGRhdGE6IGFwcGxpY2F0aW9uRGF0YSwgZXJyb3I6IGFwcGxpY2F0aW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdhcHBsaWNhdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgYXBwbGljYXRpb25faWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoYXBwbGljYXRpb25FcnJvciB8fCAhYXBwbGljYXRpb25EYXRhKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0FwcGxpY2F0aW9uIG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuXG4gICAgLy8gMy4gVmVyaWZ5IGVtYWlsIG1hdGNoZXNcbiAgICBpZiAoZW5yb2xsbWVudERhdGEuZW1haWwgIT09IGFwcGxpY2F0aW9uRGF0YS5lbWFpbCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFbWFpbCB2ZXJpZmljYXRpb24gZmFpbGVkJyB9KTtcbiAgICB9XG5cbiAgICAvLyA0LiBDaGVjayBpZiBTdXBhYmFzZSBBdXRoIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICBsZXQgYXV0aFVzZXIgPSBudWxsO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVXNlcnMsIGVycm9yOiBsaXN0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4uYXV0aC5hZG1pbi5saXN0VXNlcnMoKTtcbiAgICAgIGlmIChsaXN0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGluZyB1c2VyczonLCBsaXN0RXJyb3IpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBjaGVjayBleGlzdGluZyB1c2VycycgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGV4aXN0aW5nVXNlcnM/LnVzZXJzPy5maW5kKHVzZXIgPT4gdXNlci5lbWFpbCA9PT0gYXBwbGljYXRpb25EYXRhLmVtYWlsKTtcblxuICAgICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgLy8gQ3JlYXRlIFN1cGFiYXNlIEF1dGggdXNlciB3aXRoIHRlbXBvcmFyeSBwYXNzd29yZFxuICAgICAgICBjb25zdCB0ZW1wUGFzc3dvcmQgPSBgdGVtcF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpfWA7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IGF1dGggdXNlciBmb3I6JywgYXBwbGljYXRpb25EYXRhLmVtYWlsKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBuZXdVc2VyLCBlcnJvcjogY3JlYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4uYXV0aC5hZG1pbi5jcmVhdGVVc2VyKHtcbiAgICAgICAgICBlbWFpbDogYXBwbGljYXRpb25EYXRhLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiB0ZW1wUGFzc3dvcmQsXG4gICAgICAgICAgZW1haWxfY29uZmlybTogdHJ1ZSxcbiAgICAgICAgICB1c2VyX21ldGFkYXRhOiB7XG4gICAgICAgICAgICBmaXJzdF9uYW1lOiBhcHBsaWNhdGlvbkRhdGEuZmlyc3RfbmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogYXBwbGljYXRpb25EYXRhLmxhc3RfbmFtZSxcbiAgICAgICAgICAgIG1pZGRsZV9uYW1lOiBhcHBsaWNhdGlvbkRhdGEubWlkZGxlX25hbWUsXG4gICAgICAgICAgICBhcHBsaWNhdGlvbl9pZDogYXBwbGljYXRpb25EYXRhLmlkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY3JlYXRlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhdXRoIHVzZXI6JywgY3JlYXRlRXJyb3IpO1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHVzZXIgYWNjb3VudCcsXG4gICAgICAgICAgICBkZXRhaWxzOiBjcmVhdGVFcnJvci5tZXNzYWdlIFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXV0aFVzZXIgPSBuZXdVc2VyLnVzZXI7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRoIHVzZXIgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgYXV0aFVzZXIuaWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHByb2ZpbGUgcmVjb3JkIG1hbnVhbGx5IGlmIHRoZSB0cmlnZ2VyIGRpZG4ndCB3b3JrXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICAgIGlkOiBhdXRoVXNlci5pZCxcbiAgICAgICAgICAgICAgZW1haWw6IGFwcGxpY2F0aW9uRGF0YS5lbWFpbCxcbiAgICAgICAgICAgICAgZmlyc3RfbmFtZTogYXBwbGljYXRpb25EYXRhLmZpcnN0X25hbWUsXG4gICAgICAgICAgICAgIGxhc3RfbmFtZTogYXBwbGljYXRpb25EYXRhLmxhc3RfbmFtZSxcbiAgICAgICAgICAgICAgbWlkZGxlX25hbWU6IGFwcGxpY2F0aW9uRGF0YS5taWRkbGVfbmFtZSxcbiAgICAgICAgICAgICAgcGhvbmU6IGFwcGxpY2F0aW9uRGF0YS5waG9uZSxcbiAgICAgICAgICAgICAgZGF0ZV9vZl9iaXJ0aDogYXBwbGljYXRpb25EYXRhLmRhdGVfb2ZfYmlydGgsXG4gICAgICAgICAgICAgIGNvdW50cnk6IGFwcGxpY2F0aW9uRGF0YS5jb3VudHJ5LFxuICAgICAgICAgICAgICBhZGRyZXNzOiBhcHBsaWNhdGlvbkRhdGEuYWRkcmVzcyxcbiAgICAgICAgICAgICAgY2l0eTogYXBwbGljYXRpb25EYXRhLmNpdHksXG4gICAgICAgICAgICAgIHN0YXRlOiBhcHBsaWNhdGlvbkRhdGEuc3RhdGUsXG4gICAgICAgICAgICAgIHppcF9jb2RlOiBhcHBsaWNhdGlvbkRhdGEuemlwX2NvZGUsXG4gICAgICAgICAgICAgIHNzbjogYXBwbGljYXRpb25EYXRhLnNzbixcbiAgICAgICAgICAgICAgaWRfbnVtYmVyOiBhcHBsaWNhdGlvbkRhdGEuaWRfbnVtYmVyLFxuICAgICAgICAgICAgICBhcHBsaWNhdGlvbl9pZDogYXBwbGljYXRpb25EYXRhLmlkLFxuICAgICAgICAgICAgICBlbnJvbGxtZW50X2NvbXBsZXRlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgaWYgKHByb2ZpbGVFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Byb2ZpbGUgY3JlYXRpb24gZXJyb3IgKG1heSBiZSBleHBlY3RlZCBpZiB0cmlnZ2VyIHdvcmtzKTonLCBwcm9maWxlRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9maWxlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChwcm9maWxlQ3JlYXRlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUHJvZmlsZSBjcmVhdGlvbiBhdHRlbXB0IGZhaWxlZDonLCBwcm9maWxlQ3JlYXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdXRoVXNlciA9IGV4aXN0aW5nVXNlcjtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGV4aXN0aW5nIGF1dGggdXNlcjonLCBhdXRoVXNlci5pZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAodXNlckNyZWF0aW9uRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggdXNlciBjcmVhdGlvbiBwcm9jZXNzIGVycm9yOicsIHVzZXJDcmVhdGlvbkVycm9yKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBwcm9jZXNzIHVzZXIgYXV0aGVudGljYXRpb24nLFxuICAgICAgICBkZXRhaWxzOiB1c2VyQ3JlYXRpb25FcnJvci5tZXNzYWdlIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgbWVzc2FnZTogJ0F1dGggdXNlciByZWFkeSBmb3IgZW5yb2xsbWVudCcsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIGlkOiBhcHBsaWNhdGlvbkRhdGEuaWQsXG4gICAgICAgIGVtYWlsOiBhcHBsaWNhdGlvbkRhdGEuZW1haWwsXG4gICAgICAgIG5hbWU6IGAke2FwcGxpY2F0aW9uRGF0YS5maXJzdF9uYW1lfSAke2FwcGxpY2F0aW9uRGF0YS5taWRkbGVfbmFtZSA/IGFwcGxpY2F0aW9uRGF0YS5taWRkbGVfbmFtZSArICcgJyA6ICcnfSR7YXBwbGljYXRpb25EYXRhLmxhc3RfbmFtZX1gLFxuICAgICAgICBhdXRoX2lkOiBhdXRoVXNlci5pZFxuICAgICAgfVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQ3JlYXRlIGF1dGggdXNlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzdXBhYmFzZUFkbWluIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInRva2VuIiwiYXBwbGljYXRpb25faWQiLCJib2R5IiwiZGF0YSIsImVucm9sbG1lbnREYXRhIiwiZW5yb2xsbWVudEVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiYXBwbGljYXRpb25EYXRhIiwiYXBwbGljYXRpb25FcnJvciIsImVtYWlsIiwiYXV0aFVzZXIiLCJleGlzdGluZ1VzZXJzIiwibGlzdEVycm9yIiwiYXV0aCIsImFkbWluIiwibGlzdFVzZXJzIiwiY29uc29sZSIsImV4aXN0aW5nVXNlciIsInVzZXJzIiwiZmluZCIsInVzZXIiLCJ0ZW1wUGFzc3dvcmQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwibG9nIiwibmV3VXNlciIsImNyZWF0ZUVycm9yIiwiY3JlYXRlVXNlciIsInBhc3N3b3JkIiwiZW1haWxfY29uZmlybSIsInVzZXJfbWV0YWRhdGEiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwibWlkZGxlX25hbWUiLCJpZCIsImRldGFpbHMiLCJtZXNzYWdlIiwicHJvZmlsZUVycm9yIiwiaW5zZXJ0IiwicGhvbmUiLCJkYXRlX29mX2JpcnRoIiwiY291bnRyeSIsImFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJ6aXBfY29kZSIsInNzbiIsImlkX251bWJlciIsImVucm9sbG1lbnRfY29tcGxldGVkIiwicHJvZmlsZUNyZWF0ZUVycm9yIiwidXNlckNyZWF0aW9uRXJyb3IiLCJuYW1lIiwiYXV0aF9pZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/create-auth-user.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcreate-auth-user&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcreate-auth-user.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();